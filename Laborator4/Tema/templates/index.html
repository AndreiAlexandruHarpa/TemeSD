{% extends 'base.html' %}

{% block head %}
<style>

    body, html {
        margin: 0;
        font-family: sans-serif;
    }

    .content {
        margin: 0 auto;
        width: 400px;
    }

    table, td, th {
        border: 1px solid #aaa;
    }

    table {
        border-collapse: collapse;
        width: 100%;
    }

    th {
        height: 30px;
    }

    td {
        text-align: center;
        padding: 5px;
    }

    .form {
        margin-top: 20px;
    }

    #content {
        width: 70%;
    }
</style>
{% endblock %}

{% block body %}
<div class="content">
    <h1 style="text-align: center">Expenses Manager</h1>
    {% if expenses|length < 1 %}
    <h3 style="text-align: center">There are no expenses. Add a new expense down bellow.</h3>
    {% else %}
    <table>
        <tr>
            <th>Description</th>
            <th>Amount</th>
            <th>Added</th>
            <th>Actions</th>
        </tr>
        {% for expense in expenses %}
        <tr>
            <td>{{ expense.description }}</td>
            <td>{{ expense.amount }}</td>
            <td>{{ expense.date_created.date() }}</td>
            <td>
                <a href="/delete/{{ expense.id }}">Delete</a>
                <br/>
                <a href="/update/{{ expense.id }}">Update</a>
            </td>

        </tr>
        {%  endfor %}
    </table>
    {%  endif %}

    <form action="/" method="post">
        Description: <input type="text" name="description" id="description"/><br/>
        Amount: <input type="number" name="amount" id="amount"/><br/>
        <input type="submit" value="Add expense"/>
    </form>
</div>
{% endblock %}